{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <div class="hero-grid">
            <div>
                <h1>One AI Engine. <span class="hero-accent">Two Powerful</span><br>Solutions.</h1>
                <p class="hero-subtitle">The same AI algorithms that predict market breakouts also identify leads most likely to convert. Whether you're trading Bitcoin or closing clients, success comes from data-driven decisions.</p>
            </div>
            
            <div class="hero-visual">
                <div class="cube">
                    <div class="cube-face face-front">AI</div>
                    <div class="cube-face face-back">BTC</div>
                    <div class="cube-face face-right">SEO</div>
                    <div class="cube-face face-left">SPY</div>
                    <div class="cube-face face-top">PPC</div>
                    <div class="cube-face face-bottom">DATA</div>
                </div>
            </div>
        </div>
        
        <!-- Hero stats spanning full width -->
        <div class="hero-stats">
            <div class="stat-card">
                <div class="stat-value">68.4%</div>
                <div class="stat-label">Trading Win Rate</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">+212%</div>
                <div class="stat-label">ROI on AI Marketing</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">40+</div>
                <div class="stat-label">Automated Conversions Delivered</div>
            </div>
        </div>
    </div>
</section>

<!-- Services Section - Homepage2 Style -->
<section class="services-section">
    <div class="container">
        <h2 class="services-title">Choose Your AI-Powered Edge</h2>
        
        <div class="products-grid">
            <!-- AI Trading Suite -->
            <div class="product-card trading">
                <div class="product-header">
                    <span class="product-icon">üß†</span>
                    <h3 class="product-title">AI Trading Suite</h3>
                </div>
                <p class="product-description">Get the edge with real-time analysis, price prediction models, and automated trading tools ‚Äî built for crypto traders and powered by machine learning.</p>
                
                <ul class="product-features">
                    <li>24/7 live charting & analytics</li>
                    <li>AI-driven market forecasts</li>
                    <li>Portfolio tracking & trade automation</li>
                    <li>Risk assessment algorithms</li>
                </ul>
                
                <div style="text-align: center;">
                    <a href="/trading-suite" class="product-cta">
                        Explore the Trading Suite ‚Üí
                    </a>
                </div>
            </div>
            
            <!-- AI Marketing Solutions -->
            <div class="product-card marketing">
                <div class="product-header">
                    <span class="product-icon">üéØ</span>
                    <h3 class="product-title">AI Marketing Solutions</h3>
                </div>
                <p class="product-description">Attract more clients and convert leads faster with AI-powered marketing systems designed for regulated, trust-based industries.</p>
                
                <ul class="product-features">
                    <li>Predictive lead scoring</li>
                    <li>AI-powered chatbots & onboarding</li>
                    <li>SEO, content, and ad automation</li>
                    <li>Conversion optimization systems</li>
                </ul>
                
                <div style="text-align: center;">
                    <a href="/marketing-solutions" class="product-cta">
                        Discover Marketing Solutions ‚Üí
                    </a>
                </div>
            </div>
        </div>
        <div class="ai-cta-section">
            <h3 class="ai-cta-title">The Same Intelligence, Different Applications</h3>
            <p class="ai-cta-description">
                Whether you're timing a market trade or optimizing funnels, <br>success comes from data-driven decisions.
            </p>
            <a href="#contact" class="ai-cta-button">
                Schedule a Consultation ‚Üí
            </a>
        </div>
    </div>
</section>

<!-- AI-Powered Intelligence Section - V0 Style with Homepage2 Cards -->
<section class="ai-intelligence-section">
    <div class="container">
        <h2 class="ai-intelligence-title">AI-Powered Intelligence in Action</h2>
        <p class="ai-intelligence-subtitle">See how the same AI strategies that beat the market <br>can also transform client acquisition.</p>
        
        <div class="ai-solutions-grid">
            <!-- Cryptocurrency Trading -->
            <div class="solution-category trading-category">
                <div class="solution-header">
                    <span class="solution-icon">üìà</span>
                    <h3 class="solution-title">Cryptocurrency Trading</h3>
                </div>
                <div class="solution-items">
                    <div class="solution-item">
                        <div class="solution-item-icon">üß†</div>
                        <div class="solution-item-content">
                            <h4>Market Intelligence</h4>
                            <p>AI-powered market sentiment analysis and trend forecasting</p>
                        </div>
                    </div>
                    <div class="solution-item">
                        <div class="solution-item-icon">üõ°Ô∏è</div>
                        <div class="solution-item-content">
                            <h4>Risk Management</h4>
                            <p>Portfolio volatility modeling and risk management tools</p>
                        </div>
                    </div>
                    <div class="solution-item">
                        <div class="solution-item-icon">‚ö°</div>
                        <div class="solution-item-content">
                            <h4>Automatic Trading</h4>
                            <p>Real-time alerts and scheduled trading strategies</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Professional Services -->
            <div class="solution-category marketing-category">
                <div class="solution-header">
                    <span class="solution-icon">üéØ</span>
                    <h3 class="solution-title">Professional Services</h3>
                </div>
                <div class="solution-items">
                    <div class="solution-item">
                        <div class="solution-item-icon">üéØ</div>
                        <div class="solution-item-content">
                            <h4>Lead Generation</h4>
                            <p>AI-powered customer targeting and qualification</p>
                        </div>
                    </div>
                    <div class="solution-item">
                        <div class="solution-item-icon">üí¨</div>
                        <div class="solution-item-content">
                            <h4>Content Optimization</h4>
                            <p>Personalized messaging and SEO strategy</p>
                        </div>
                    </div>
                    <div class="solution-item">
                        <div class="solution-item-icon">üìä</div>
                        <div class="solution-item-content">
                            <h4>Conversion Tracking</h4>
                            <p>Real-time analytics and A/B testing</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Split-Screen Comparison -->
        <div class="comparison-grid">
            <!-- Trading Use Case -->
            <div class="comparison-card trading">
                <div class="comparison-header">
                    <span class="comparison-badge">Trading Use Case</span>
                </div>
                <p class="comparison-quote">"When Bitcoin hit $100,000, our AI predicted the breakout 72 hours early"</p>
                <p class="comparison-result">‚Üí Result: 23% portfolio gain in 5 days</p>
                
                <ul class="feature-list">
                    <li>Tracks 500+ crypto pairs</li>
                    <li>Volatility models with 78%+ accuracy</li>
                    <li>Automated portfolio rebalancing</li>
                </ul>
            </div>
            
            <!-- Marketing Use Case -->
            <div class="comparison-card marketing">
                <div class="comparison-header">
                    <span class="comparison-badge">Marketing Use Case</span>
                </div>
                <p class="comparison-quote">"When a lead visited 3+ pages, our AI predicted 89% conversion probability"</p>
                <p class="comparison-result">‚Üí Result: Insurance agent closed 3 deals that week</p>
                
                <ul class="feature-list">
                    <li>Lead generation up +247%</li>
                    <li>Conversion funnels improved +189%</li>
                    <li>Chatbots qualifying leads 24/7</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta" id="contact">
    <div class="container">
        <div class="cta-container">
            <div class="cta-content">
                <div class="cta-text">
                    <h2 class="cta-title">Ready to Apply Financial-Grade AI <br>to Your Business?</h2>
                    <p class="cta-description">Whether you're looking to automate trades or acquire clients, we apply the same high-performance AI systems to grow your bottom line. No long-term commitments required.</p>
                </div>
                
                <div class="contact-form">
                    <form id="contactForm" onsubmit="sendEmail(event)">
                        <div class="form-group">
                            <label for="name" class="form-label">Name</label>
                            <input type="text" id="name" name="name" class="form-input" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" id="email" name="email" class="form-input" required>
                        </div>

                        <div class="appointment-toggle">
                            <input type="checkbox" id="appointmentToggle" class="toggle-checkbox" onchange="toggleAppointmentFields()">
                            <label for="appointmentToggle" class="toggle-label">Click here to schedule an appointment during this inquiry</label>
                        </div>

                        <!-- Appointment Fields (Hidden by default) -->
                        <div class="appointment-fields" id="appointmentFields">
                            <div class="appointment-header">üìÖ Schedule Your Meeting</div>
                            <div class="form-group">
                                <label for="datetime" class="form-label">Preferred Date & Time (EST)</label>
                                <input type="datetime-local" id="datetime" name="datetime" class="form-input">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="message" class="form-label">Message</label>
                            <textarea id="message" name="message" class="form-input form-textarea" required></textarea>
                        </div>
                        
                        <button type="submit" class="form-submit">Send Message</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
{{ super() }}
<script>
    // Cube rotation interaction
    document.addEventListener('DOMContentLoaded', function() {
        const cube = document.querySelector('.cube');
        const heroSection = document.querySelector('.hero');
        
        if (cube && heroSection) {
            let rotateX = 0;
            let rotateY = 0;
            let isAutoRotating = true;
            let autoRotateInterval;
            
            function startAutoRotate() {
                isAutoRotating = true;
                autoRotateInterval = setInterval(() => {
                    rotateX += 0.3;
                    rotateY += 0.3;
                    updateCubeRotation();
                }, 50);
            }
            
            function stopAutoRotate() {
                isAutoRotating = false;
                clearInterval(autoRotateInterval);
            }
            
            function updateCubeRotation() {
                cube.style.transform = 'rotateX(' + rotateX + 'deg) rotateY(' + rotateY + 'deg)';
            }
            
            heroSection.addEventListener('mousemove', function(e) {
                if (isAutoRotating) {
                    stopAutoRotate();
                }
                
                const xAxis = (window.innerWidth / 2 - e.pageX) / 25;
                const yAxis = (window.innerHeight / 2 - e.pageY) / 25;
                
                rotateX = yAxis;
                rotateY = -xAxis;
                
                updateCubeRotation();
            });
            
            heroSection.addEventListener('mouseleave', function() {
                startAutoRotate();
            });
            
            startAutoRotate();
        }

        // Set minimum date to today for datetime picker
        const datetimeInput = document.getElementById('datetime');
        if (datetimeInput) {
            const now = new Date();
            now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
            datetimeInput.min = now.toISOString().slice(0, 16);
        }
    });

    // Toggle appointment fields
    function toggleAppointmentFields() {
        const checkbox = document.getElementById('appointmentToggle');
        const fields = document.getElementById('appointmentFields');
        const datetimeInput = document.getElementById('datetime');
        
        if (checkbox.checked) {
            fields.classList.add('show');
            datetimeInput.required = true;
            
            // Set minimum date to today for datetime picker
            const now = new Date();
            now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
            datetimeInput.min = now.toISOString().slice(0, 16);
        } else {
            fields.classList.remove('show');
            datetimeInput.required = false;
            datetimeInput.value = '';
        }
    }

    // Alert Functions
    function showAlert(message, type) {
        const alertContainer = document.getElementById('alert-container');
        const alert = document.createElement('div');
        alert.className = `alert alert-${type} show`;
        alert.textContent = message;
        
        alertContainer.innerHTML = '';
        alertContainer.appendChild(alert);
        
        setTimeout(() => {
            alert.classList.remove('show');
            setTimeout(() => alertContainer.innerHTML = '', 300);
        }, 5000);
    }
    
    // Contact form submission
    function sendEmail(event) {
        event.preventDefault();
        
        const submitBtn = document.getElementById('submitBtn');
        const originalText = submitBtn.textContent;
        
        // Disable button and show loading state
        submitBtn.disabled = true;
        submitBtn.textContent = 'Sending...';
        
        // Initialize EmailJS with your public key
        emailjs.init("xSYgQUruN6qY2C0o2");
        
        // Check if appointment is requested
        const appointmentRequested = document.getElementById('appointmentToggle').checked;
        let estDateTime = 'No appointment requested';
        
        if (appointmentRequested) {
            const datetimeInput = document.getElementById('datetime').value;
            if (datetimeInput) {
                const selectedDate = new Date(datetimeInput);
                estDateTime = selectedDate.toLocaleString("en-US", {
                    timeZone: "America/New_York",
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: 'numeric',
                    minute: '2-digit',
                    hour12: true
                }) + " EST";
            }
        }
        
        const params = {
            name: document.getElementById('name').value,
            email: document.getElementById('email').value,
            message: document.getElementById('message').value,
            appointment_requested: appointmentRequested ? 'Yes' : 'No',
            preferred_datetime: estDateTime
        };
        
        // Send email
        emailjs.send("service_gf8ewl9", "template_nad2dyc", params)
            .then(() => {
                if (appointmentRequested) {
                    showAlert("Thanks for your message and appointment request! We'll get back to you within 24 hours with a meeting invite.", 'success');
                } else {
                    showAlert("Thanks for your message! We'll get back to you within 24 hours.", 'success');
                }
                document.getElementById('contactForm').reset();
                document.getElementById('appointmentFields').classList.remove('show');
            })
            .catch((error) => {
                console.error('Error:', error);
                showAlert("Sorry, there was an error sending your message. Please try again.", 'error');
            })
            .finally(() => {
                // Re-enable button
                submitBtn.disabled = false;
                submitBtn.textContent = originalText;
            });
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
{% endblock %}