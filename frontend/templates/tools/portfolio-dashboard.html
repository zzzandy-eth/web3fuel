{% extends "base.html" %}

{% block title %}Cross-Chain Portfolio Dashboard - Web3Fuel.io{% endblock %}

{% block head %}
<!-- Add Chart.js for mock charts -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <div class="hero-content-centered">
            <h1>Portfolio<br><span class="typewriter">Dashboard</span></h1>
            <h3>Track token balances across multiple chains in one unified view. No single tool does this well currently.</h3>
        </div>
    </div>
</section>

<!-- Tool Status Banner -->
<section class="tool-status-banner">
    <div class="container">
        <div class="status-card">
            <div class="status-icon">üöß</div>
            <div class="status-content">
                <h3>Tool Under Development</h3>
                <p>This Cross-Chain Portfolio Dashboard is currently being built. The interface below shows our planned features and design. Expected launch: <strong>December 20, 2025</strong></p>
            </div>
        </div>
    </div>
</section>

<!-- Mock Portfolio Interface -->
<section class="portfolio-interface">
    <div class="container">
        <!-- Portfolio Overview -->
        <div class="portfolio-section">
            <div class="section-header">
                <h2>Portfolio Overview</h2>
                <div class="refresh-button">
                    <button class="refresh-btn">üîÑ Refresh All</button>
                </div>
            </div>

            <div class="portfolio-stats">
                <div class="stat-card total">
                    <div class="stat-icon">üí∞</div>
                    <div class="stat-content">
                        <div class="stat-value">$48,392.57</div>
                        <div class="stat-label">Total Portfolio Value</div>
                        <div class="stat-change positive">+$2,847.23 (6.28%)</div>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">üîó</div>
                    <div class="stat-content">
                        <div class="stat-value">7</div>
                        <div class="stat-label">Connected Chains</div>
                        <div class="stat-change neutral">Active Connections</div>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">ü™ô</div>
                    <div class="stat-content">
                        <div class="stat-value">23</div>
                        <div class="stat-label">Unique Tokens</div>
                        <div class="stat-change positive">+3 this week</div>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">‚ö°</div>
                    <div class="stat-content">
                        <div class="stat-value">12</div>
                        <div class="stat-label">Active Positions</div>
                        <div class="stat-change neutral">Across chains</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chain Breakdown -->
        <div class="portfolio-section">
            <h2>Chain Breakdown</h2>
            <div class="chain-grid">
                <div class="chain-card ethereum">
                    <div class="chain-header">
                        <div class="chain-info">
                            <div class="chain-icon">‚ü†</div>
                            <div class="chain-name">Ethereum</div>
                        </div>
                        <div class="chain-value">$18,947.32</div>
                    </div>
                    <div class="chain-percentage">39.2% of portfolio</div>
                    <div class="token-count">8 tokens</div>
                    <div class="chain-status online">üü¢ Online</div>
                </div>

                <div class="chain-card arbitrum">
                    <div class="chain-header">
                        <div class="chain-info">
                            <div class="chain-icon">üîµ</div>
                            <div class="chain-name">Arbitrum</div>
                        </div>
                        <div class="chain-value">$12,458.94</div>
                    </div>
                    <div class="chain-percentage">25.7% of portfolio</div>
                    <div class="token-count">6 tokens</div>
                    <div class="chain-status online">üü¢ Online</div>
                </div>

                <div class="chain-card polygon">
                    <div class="chain-header">
                        <div class="chain-info">
                            <div class="chain-icon">üü£</div>
                            <div class="chain-name">Polygon</div>
                        </div>
                        <div class="chain-value">$7,293.41</div>
                    </div>
                    <div class="chain-percentage">15.1% of portfolio</div>
                    <div class="token-count">4 tokens</div>
                    <div class="chain-status online">üü¢ Online</div>
                </div>

                <div class="chain-card optimism">
                    <div class="chain-header">
                        <div class="chain-info">
                            <div class="chain-icon">üî¥</div>
                            <div class="chain-name">Optimism</div>
                        </div>
                        <div class="chain-value">$5,847.21</div>
                    </div>
                    <div class="chain-percentage">12.1% of portfolio</div>
                    <div class="token-count">3 tokens</div>
                    <div class="chain-status online">üü¢ Online</div>
                </div>

                <div class="chain-card avalanche">
                    <div class="chain-header">
                        <div class="chain-info">
                            <div class="chain-icon">üî∫</div>
                            <div class="chain-name">Avalanche</div>
                        </div>
                        <div class="chain-value">$2,934.73</div>
                    </div>
                    <div class="chain-percentage">6.1% of portfolio</div>
                    <div class="token-count">2 tokens</div>
                    <div class="chain-status online">üü¢ Online</div>
                </div>

                <div class="chain-card bsc">
                    <div class="chain-header">
                        <div class="chain-info">
                            <div class="chain-icon">üü°</div>
                            <div class="chain-name">BSC</div>
                        </div>
                        <div class="chain-value">$910.96</div>
                    </div>
                    <div class="chain-percentage">1.9% of portfolio</div>
                    <div class="token-count">1 token</div>
                    <div class="chain-status online">üü¢ Online</div>
                </div>
            </div>
        </div>

        <!-- Token Holdings -->
        <div class="portfolio-section">
            <h2>Token Holdings</h2>
            <div class="holdings-table">
                <div class="table-header">
                    <div class="col-token">Token</div>
                    <div class="col-chain">Chain</div>
                    <div class="col-balance">Balance</div>
                    <div class="col-value">Value</div>
                    <div class="col-change">24h Change</div>
                    <div class="col-actions">Actions</div>
                </div>

                <div class="table-row">
                    <div class="col-token">
                        <div class="token-info">
                            <div class="token-icon">üü°</div>
                            <div class="token-details">
                                <div class="token-symbol">ETH</div>
                                <div class="token-name">Ethereum</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-chain">
                        <span class="chain-badge ethereum">‚ü† Ethereum</span>
                    </div>
                    <div class="col-balance">4.7284 ETH</div>
                    <div class="col-value">$12,847.32</div>
                    <div class="col-change positive">+3.24%</div>
                    <div class="col-actions">
                        <button class="action-button">Bridge</button>
                        <button class="action-button">Swap</button>
                    </div>
                </div>

                <div class="table-row">
                    <div class="col-token">
                        <div class="token-info">
                            <div class="token-icon">üîµ</div>
                            <div class="token-details">
                                <div class="token-symbol">USDC</div>
                                <div class="token-name">USD Coin</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-chain">
                        <span class="chain-badge arbitrum">üîµ Arbitrum</span>
                    </div>
                    <div class="col-balance">8,942.15 USDC</div>
                    <div class="col-value">$8,942.15</div>
                    <div class="col-change neutral">-0.01%</div>
                    <div class="col-actions">
                        <button class="action-button">Bridge</button>
                        <button class="action-button">Swap</button>
                    </div>
                </div>

                <div class="table-row">
                    <div class="col-token">
                        <div class="token-info">
                            <div class="token-icon">üü†</div>
                            <div class="token-details">
                                <div class="token-symbol">WBTC</div>
                                <div class="token-name">Wrapped Bitcoin</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-chain">
                        <span class="chain-badge polygon">üü£ Polygon</span>
                    </div>
                    <div class="col-balance">0.1847 WBTC</div>
                    <div class="col-value">$7,293.41</div>
                    <div class="col-change positive">+1.87%</div>
                    <div class="col-actions">
                        <button class="action-button">Bridge</button>
                        <button class="action-button">Swap</button>
                    </div>
                </div>

                <div class="table-row">
                    <div class="col-token">
                        <div class="token-info">
                            <div class="token-icon">üî¥</div>
                            <div class="token-details">
                                <div class="token-symbol">OP</div>
                                <div class="token-name">Optimism</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-chain">
                        <span class="chain-badge optimism">üî¥ Optimism</span>
                    </div>
                    <div class="col-balance">2,847.92 OP</div>
                    <div class="col-value">$5,847.21</div>
                    <div class="col-change positive">+8.45%</div>
                    <div class="col-actions">
                        <button class="action-button">Bridge</button>
                        <button class="action-button">Swap</button>
                    </div>
                </div>

                <div class="table-row">
                    <div class="col-token">
                        <div class="token-info">
                            <div class="token-icon">üî∫</div>
                            <div class="token-details">
                                <div class="token-symbol">AVAX</div>
                                <div class="token-name">Avalanche</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-chain">
                        <span class="chain-badge avalanche">üî∫ Avalanche</span>
                    </div>
                    <div class="col-balance">94.73 AVAX</div>
                    <div class="col-value">$2,934.73</div>
                    <div class="col-change negative">-2.14%</div>
                    <div class="col-actions">
                        <button class="action-button">Bridge</button>
                        <button class="action-button">Swap</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Portfolio Allocation Chart -->
        <div class="portfolio-section">
            <h2>Portfolio Allocation</h2>
            <div class="chart-grid">
                <div class="chart-container">
                    <h3>By Chain</h3>
                    <canvas id="chainChart" width="400" height="300"></canvas>
                </div>
                <div class="chart-container">
                    <h3>By Token Type</h3>
                    <canvas id="tokenChart" width="400" height="300"></canvas>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="portfolio-section">
            <h2>Quick Actions</h2>
            <div class="quick-actions">
                <button class="quick-action-btn primary">
                    <div class="action-icon">üîÑ</div>
                    <div class="action-text">
                        <div class="action-title">Rebalance Portfolio</div>
                        <div class="action-desc">Optimize allocation across chains</div>
                    </div>
                </button>

                <button class="quick-action-btn">
                    <div class="action-icon">üìä</div>
                    <div class="action-text">
                        <div class="action-title">Generate Report</div>
                        <div class="action-desc">Export portfolio analysis</div>
                    </div>
                </button>

                <button class="quick-action-btn">
                    <div class="action-icon">‚öôÔ∏è</div>
                    <div class="action-text">
                        <div class="action-title">Manage Wallets</div>
                        <div class="action-desc">Add or remove wallet connections</div>
                    </div>
                </button>

                <button class="quick-action-btn">
                    <div class="action-icon">üîî</div>
                    <div class="action-text">
                        <div class="action-title">Set Alerts</div>
                        <div class="action-desc">Price and balance notifications</div>
                    </div>
                </button>
            </div>
        </div>
    </div>
</section>

<style>
/* Hero Section Override */
.hero {
    padding: 2.5rem 0 !important;
    min-height: auto !important;
    border-bottom: none !important;
}

.hero-content-centered {
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
    padding: 1rem 20px;
}

.hero-content-centered h1 {
    font-size: 64px;
    font-weight: 700;
    color: #ffffff;
    margin: 0 0 35px 0;
    line-height: 1.1;
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
}

.typewriter {
    color: var(--primary);
    position: relative;
    display: inline-block;
    overflow: hidden;
    white-space: nowrap;
    width: 0;
    animation: typewriter-dashboard 8s infinite;
}

.typewriter::after {
    content: '|';
    color: var(--primary);
    animation: blink 1s infinite;
    text-shadow: 0 0 5px var(--primary);
}

@keyframes typewriter-dashboard {
    0% { width: 0; }
    20% { width: 100%; }
    70% { width: 100%; }
    100% { width: 0; }
}

@keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
}

.hero-content-centered h3 {
    font-size: 28px;
    font-weight: 400;
    color: #ffffff;
    margin: 0;
    line-height: 1.4;
    text-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
}

/* Tool Status Banner */
.tool-status-banner {
    padding: 40px 0;
    background: transparent;
}

.status-card {
    background: rgba(255, 193, 7, 0.1);
    border: 2px solid rgba(255, 193, 7, 0.3);
    border-radius: 16px;
    padding: 30px;
    display: flex;
    align-items: center;
    gap: 20px;
    max-width: 800px;
    margin: 0 auto;
}

.status-icon {
    font-size: 40px;
    flex-shrink: 0;
}

.status-content h3 {
    color: #ffc107;
    margin: 0 0 10px 0;
    font-size: 24px;
}

.status-content p {
    color: #ffffff;
    margin: 0;
    line-height: 1.5;
}

/* Portfolio Interface */
.portfolio-interface {
    padding: 60px 0;
    background: transparent;
}

.portfolio-section {
    margin-bottom: 60px;
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
}

.portfolio-section h2 {
    font-size: 32px;
    color: var(--primary);
    margin: 0;
}

.refresh-btn {
    background: linear-gradient(45deg, var(--primary), var(--secondary));
    color: black;
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.refresh-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 255, 234, 0.4);
}

/* Portfolio Stats */
.portfolio-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 40px;
}

.stat-card {
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid var(--border-color, #27272a);
    border-radius: 16px;
    padding: 25px;
    display: flex;
    align-items: center;
    gap: 20px;
    transition: all 0.3s ease;
}

.stat-card.total {
    border-color: var(--primary);
    background: rgba(0, 255, 234, 0.05);
}

.stat-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 255, 234, 0.2);
}

.stat-icon {
    font-size: 32px;
    flex-shrink: 0;
}

.stat-value {
    font-size: 28px;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 5px;
}

.stat-label {
    color: #ffffff;
    font-size: 14px;
    margin-bottom: 5px;
}

.stat-change {
    font-size: 12px;
    font-weight: 600;
}

.stat-change.positive {
    color: #22c55e;
}

.stat-change.negative {
    color: #ef4444;
}

.stat-change.neutral {
    color: #a1a1aa;
}

/* Chain Grid */
.chain-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    margin-bottom: 40px;
}

.chain-card {
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid var(--border-color, #27272a);
    border-radius: 16px;
    padding: 25px;
    transition: all 0.3s ease;
}

.chain-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 255, 234, 0.2);
    border-color: var(--primary);
}

.chain-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.chain-info {
    display: flex;
    align-items: center;
    gap: 12px;
}

.chain-icon {
    font-size: 24px;
}

.chain-name {
    font-size: 18px;
    font-weight: 600;
    color: #ffffff;
}

.chain-value {
    font-size: 20px;
    font-weight: 700;
    color: var(--primary);
}

.chain-percentage {
    color: #a1a1aa;
    font-size: 14px;
    margin-bottom: 5px;
}

.token-count {
    color: #ffffff;
    font-size: 14px;
    margin-bottom: 10px;
}

.chain-status {
    font-size: 12px;
    color: #22c55e;
    display: flex;
    align-items: center;
    gap: 5px;
}

/* Holdings Table */
.holdings-table {
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid var(--border-color, #27272a);
    border-radius: 16px;
    overflow: hidden;
}

.table-header {
    display: grid;
    grid-template-columns: 2fr 1.5fr 1.5fr 1.5fr 1fr 1.5fr;
    gap: 20px;
    padding: 20px 25px;
    background: rgba(0, 255, 234, 0.1);
    border-bottom: 1px solid var(--border-color, #27272a);
    font-weight: 600;
    color: var(--primary);
    font-size: 14px;
}

.table-row {
    display: grid;
    grid-template-columns: 2fr 1.5fr 1.5fr 1.5fr 1fr 1.5fr;
    gap: 20px;
    padding: 20px 25px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    align-items: center;
    transition: all 0.3s ease;
}

.table-row:hover {
    background: rgba(0, 255, 234, 0.05);
}

.table-row:last-child {
    border-bottom: none;
}

.token-info {
    display: flex;
    align-items: center;
    gap: 12px;
}

.token-icon {
    font-size: 24px;
}

.token-symbol {
    font-weight: 600;
    color: #ffffff;
    font-size: 16px;
}

.token-name {
    color: #a1a1aa;
    font-size: 12px;
}

.chain-badge {
    background: rgba(255, 255, 255, 0.1);
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
    color: #ffffff;
    font-weight: 500;
}

.col-balance {
    font-weight: 600;
    color: #ffffff;
}

.col-value {
    font-weight: 600;
    color: var(--primary);
}

.action-button {
    background: transparent;
    border: 1px solid var(--primary);
    color: var(--primary);
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 12px;
    cursor: pointer;
    margin-right: 8px;
    transition: all 0.3s ease;
}

.action-button:hover {
    background: var(--primary);
    color: black;
}

/* Charts */
.chart-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 30px;
}

.chart-container {
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid var(--border-color, #27272a);
    border-radius: 16px;
    padding: 30px;
}

.chart-container h3 {
    color: var(--primary);
    margin: 0 0 20px 0;
    text-align: center;
}

/* Quick Actions */
.quick-actions {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
}

.quick-action-btn {
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid var(--border-color, #27272a);
    border-radius: 16px;
    padding: 25px;
    display: flex;
    align-items: center;
    gap: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: left;
}

.quick-action-btn.primary {
    border-color: var(--primary);
    background: rgba(0, 255, 234, 0.05);
}

.quick-action-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 255, 234, 0.2);
    border-color: var(--primary);
}

.action-icon {
    font-size: 32px;
    flex-shrink: 0;
}

.action-title {
    font-size: 16px;
    font-weight: 600;
    color: #ffffff;
    margin-bottom: 5px;
}

.action-desc {
    font-size: 12px;
    color: #a1a1aa;
}

/* Responsive Design */
@media (max-width: 768px) {
    .hero-content-centered h1 {
        font-size: 48px;
    }

    .hero-content-centered h3 {
        font-size: 20px;
    }

    .portfolio-stats {
        grid-template-columns: 1fr;
    }

    .chain-grid {
        grid-template-columns: 1fr;
    }

    .chart-grid {
        grid-template-columns: 1fr;
    }

    .table-header, .table-row {
        grid-template-columns: 1fr;
        gap: 10px;
    }

    .table-header {
        display: none;
    }

    .table-row {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        padding: 20px;
    }

    .quick-actions {
        grid-template-columns: 1fr;
    }

    .status-card {
        flex-direction: column;
        text-align: center;
    }

    .section-header {
        flex-direction: column;
        gap: 15px;
    }
}

@media (max-width: 480px) {
    .hero-content-centered h1 {
        font-size: 40px;
    }

    .hero-content-centered h3 {
        font-size: 18px;
    }

    .portfolio-section h2 {
        font-size: 28px;
    }

    .stat-card {
        flex-direction: column;
        text-align: center;
    }

    .chain-card {
        padding: 20px;
    }

    .quick-action-btn {
        flex-direction: column;
        text-align: center;
    }
}
</style>
{% endblock %}

{% block scripts %}
{{ super() }}
<script>
    // Mock chart data
    document.addEventListener('DOMContentLoaded', function() {
        // Chain allocation pie chart
        const chainCtx = document.getElementById('chainChart').getContext('2d');
        new Chart(chainCtx, {
            type: 'doughnut',
            data: {
                labels: ['Ethereum', 'Arbitrum', 'Polygon', 'Optimism', 'Avalanche', 'BSC'],
                datasets: [{
                    data: [39.2, 25.7, 15.1, 12.1, 6.1, 1.9],
                    backgroundColor: [
                        '#627eea',
                        '#28a0f0',
                        '#8247e5',
                        '#ff0420',
                        '#e84142',
                        '#f3ba2f'
                    ],
                    borderColor: '#1a1a1a',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: '#ffffff',
                            padding: 15,
                            usePointStyle: true
                        }
                    }
                }
            }
        });

        // Token type allocation pie chart
        const tokenCtx = document.getElementById('tokenChart').getContext('2d');
        new Chart(tokenCtx, {
            type: 'doughnut',
            data: {
                labels: ['ETH', 'Stablecoins', 'BTC', 'Alt Tokens', 'DeFi Tokens'],
                datasets: [{
                    data: [34.2, 28.5, 18.4, 12.3, 6.6],
                    backgroundColor: [
                        '#00ffea',
                        '#22c55e',
                        '#f59e0b',
                        '#8b5cf6',
                        '#ef4444'
                    ],
                    borderColor: '#1a1a1a',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: '#ffffff',
                            padding: 15,
                            usePointStyle: true
                        }
                    }
                }
            }
        });

        // Mock interactive functionality
        document.querySelector('.refresh-btn').addEventListener('click', function() {
            this.textContent = 'üîÑ Refreshing...';
            this.disabled = true;

            // Simulate refresh
            setTimeout(() => {
                this.textContent = 'üîÑ Refresh All';
                this.disabled = false;

                // Add subtle animation to stats
                document.querySelectorAll('.stat-card').forEach(card => {
                    card.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        card.style.transform = 'scale(1)';
                    }, 100);
                });
            }, 2000);
        });

        // Mock action buttons
        document.querySelectorAll('.action-button').forEach(btn => {
            btn.addEventListener('click', function() {
                const originalText = this.textContent;
                this.textContent = 'Loading...';
                this.disabled = true;

                setTimeout(() => {
                    this.textContent = originalText;
                    this.disabled = false;
                }, 1000);
            });
        });

        // Mock quick actions
        document.querySelectorAll('.quick-action-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const title = this.querySelector('.action-title').textContent;
                alert(`${title} feature will be available when the tool launches!`);
            });
        });

        // Animate portfolio cards on load
        const cards = document.querySelectorAll('.stat-card, .chain-card');
        cards.forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            setTimeout(() => {
                card.style.transition = 'all 0.6s ease';
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, index * 100);
        });
    });
</script>
{% endblock %}