{% extends "base.html" %}

{% block title %}Bridge Fee Comparison Tracker - Web3Fuel.io{% endblock %}

{% block head %}
<!-- Add Chart.js for mock charts -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <div class="hero-content-centered">
            <h1>Bridge Fee<br><span class="typewriter">Comparison</span></h1>
            <h3>Real-time comparison of bridging costs across major protocols. Save 30-60% on bridge fees.</h3>
        </div>
    </div>
</section>

<!-- Tool Status Banner -->
<section class="tool-status-banner">
    <div class="container">
        <div class="status-card">
            <div class="status-icon">ðŸš§</div>
            <div class="status-content">
                <h3>Tool Under Development</h3>
                <p>This Bridge Fee Comparison Tracker is currently being built. The interface below shows our planned features and design. Expected launch: <strong>December 15, 2025</strong></p>
            </div>
        </div>
    </div>
</section>

<!-- Mock Tool Interface -->
<section class="tool-interface">
    <div class="container">
        <!-- Bridge Selection -->
        <div class="tool-section">
            <h2>Select Bridge Protocols</h2>
            <div class="bridge-selector">
                <div class="bridge-option active" data-bridge="hop">
                    <img src="/static/images/hop-logo.png" alt="Hop Protocol" onerror="this.style.display='none'">
                    <span>Hop Protocol</span>
                    <div class="status-indicator online"></div>
                </div>
                <div class="bridge-option active" data-bridge="stargate">
                    <img src="/static/images/stargate-logo.png" alt="Stargate" onerror="this.style.display='none'">
                    <span>Stargate</span>
                    <div class="status-indicator online"></div>
                </div>
                <div class="bridge-option active" data-bridge="across">
                    <img src="/static/images/across-logo.png" alt="Across" onerror="this.style.display='none'">
                    <span>Across</span>
                    <div class="status-indicator online"></div>
                </div>
                <div class="bridge-option active" data-bridge="wormhole">
                    <img src="/static/images/wormhole-logo.png" alt="Wormhole" onerror="this.style.display='none'">
                    <span>Wormhole</span>
                    <div class="status-indicator online"></div>
                </div>
            </div>
        </div>

        <!-- Route Configuration -->
        <div class="tool-section">
            <h2>Configure Bridge Route</h2>
            <div class="route-config">
                <div class="route-input">
                    <label>From Chain</label>
                    <select class="chain-select">
                        <option value="ethereum">Ethereum</option>
                        <option value="polygon">Polygon</option>
                        <option value="arbitrum">Arbitrum</option>
                        <option value="optimism">Optimism</option>
                        <option value="avalanche">Avalanche</option>
                    </select>
                </div>
                <div class="route-arrow">â†’</div>
                <div class="route-input">
                    <label>To Chain</label>
                    <select class="chain-select">
                        <option value="polygon">Polygon</option>
                        <option value="ethereum">Ethereum</option>
                        <option value="arbitrum">Arbitrum</option>
                        <option value="optimism">Optimism</option>
                        <option value="avalanche">Avalanche</option>
                    </select>
                </div>
                <div class="route-input">
                    <label>Token</label>
                    <select class="token-select">
                        <option value="usdc">USDC</option>
                        <option value="eth">ETH</option>
                        <option value="usdt">USDT</option>
                        <option value="dai">DAI</option>
                    </select>
                </div>
                <div class="route-input">
                    <label>Amount</label>
                    <input type="number" class="amount-input" placeholder="1000" value="1000">
                </div>
            </div>
        </div>

        <!-- Fee Comparison Results -->
        <div class="tool-section">
            <h2>Bridge Fee Comparison</h2>
            <div class="comparison-results">
                <div class="result-card best">
                    <div class="result-header">
                        <div class="bridge-name">Across Protocol</div>
                        <div class="savings-badge">Best Deal</div>
                    </div>
                    <div class="fee-details">
                        <div class="total-fee">$12.45</div>
                        <div class="fee-breakdown">
                            <span>Bridge Fee: $8.20</span>
                            <span>Gas: $4.25</span>
                        </div>
                    </div>
                    <div class="estimated-time">~3 minutes</div>
                </div>

                <div class="result-card">
                    <div class="result-header">
                        <div class="bridge-name">Hop Protocol</div>
                        <div class="price-diff">+$3.15</div>
                    </div>
                    <div class="fee-details">
                        <div class="total-fee">$15.60</div>
                        <div class="fee-breakdown">
                            <span>Bridge Fee: $10.80</span>
                            <span>Gas: $4.80</span>
                        </div>
                    </div>
                    <div class="estimated-time">~5 minutes</div>
                </div>

                <div class="result-card">
                    <div class="result-header">
                        <div class="bridge-name">Stargate</div>
                        <div class="price-diff">+$5.20</div>
                    </div>
                    <div class="fee-details">
                        <div class="total-fee">$17.65</div>
                        <div class="fee-breakdown">
                            <span>Bridge Fee: $11.40</span>
                            <span>Gas: $6.25</span>
                        </div>
                    </div>
                    <div class="estimated-time">~4 minutes</div>
                </div>

                <div class="result-card">
                    <div class="result-header">
                        <div class="bridge-name">Wormhole</div>
                        <div class="price-diff">+$8.75</div>
                    </div>
                    <div class="fee-details">
                        <div class="total-fee">$21.20</div>
                        <div class="fee-breakdown">
                            <span>Bridge Fee: $14.50</span>
                            <span>Gas: $6.70</span>
                        </div>
                    </div>
                    <div class="estimated-time">~8 minutes</div>
                </div>
            </div>
        </div>

        <!-- Historical Data Chart -->
        <div class="tool-section">
            <h2>Historical Fee Trends</h2>
            <div class="chart-container">
                <canvas id="feeChart" width="400" height="200"></canvas>
            </div>
        </div>
    </div>
</section>

<style>
/* Hero Section Override */
.hero {
    padding: 2.5rem 0 !important;
    min-height: auto !important;
    border-bottom: none !important;
}

.hero-content-centered {
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
    padding: 1rem 20px;
}

.hero-content-centered h1 {
    font-size: 64px;
    font-weight: 700;
    color: #ffffff;
    margin: 0 0 35px 0;
    line-height: 1.1;
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
}

.typewriter {
    color: var(--primary);
    position: relative;
    display: inline-block;
    overflow: hidden;
    white-space: nowrap;
    width: 0;
    animation: typewriter-comparison 8s infinite;
}

.typewriter::after {
    content: '|';
    color: var(--primary);
    animation: blink 1s infinite;
    text-shadow: 0 0 5px var(--primary);
}

@keyframes typewriter-comparison {
    0% { width: 0; }
    20% { width: 100%; }
    70% { width: 100%; }
    100% { width: 0; }
}

@keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
}

.hero-content-centered h3 {
    font-size: 28px;
    font-weight: 400;
    color: #ffffff;
    margin: 0;
    line-height: 1.4;
    text-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
}

/* Tool Status Banner */
.tool-status-banner {
    padding: 40px 0;
    background: transparent;
}

.status-card {
    background: rgba(255, 193, 7, 0.1);
    border: 2px solid rgba(255, 193, 7, 0.3);
    border-radius: 16px;
    padding: 30px;
    display: flex;
    align-items: center;
    gap: 20px;
    max-width: 800px;
    margin: 0 auto;
}

.status-icon {
    font-size: 40px;
    flex-shrink: 0;
}

.status-content h3 {
    color: #ffc107;
    margin: 0 0 10px 0;
    font-size: 24px;
}

.status-content p {
    color: #ffffff;
    margin: 0;
    line-height: 1.5;
}

/* Tool Interface */
.tool-interface {
    padding: 60px 0;
    background: transparent;
}

.tool-section {
    margin-bottom: 60px;
}

.tool-section h2 {
    font-size: 32px;
    color: var(--primary);
    margin-bottom: 30px;
    text-align: center;
}

/* Bridge Selector */
.bridge-selector {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 40px;
}

.bridge-option {
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid var(--border-color, #27272a);
    border-radius: 12px;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
}

.bridge-option.active {
    border-color: var(--primary);
    background: rgba(0, 255, 234, 0.1);
}

.bridge-option img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
}

.bridge-option span {
    color: #ffffff;
    font-weight: 600;
}

.status-indicator {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    position: absolute;
    top: 10px;
    right: 10px;
}

.status-indicator.online {
    background: #22c55e;
    box-shadow: 0 0 10px rgba(34, 197, 94, 0.5);
}

/* Route Configuration */
.route-config {
    display: flex;
    align-items: end;
    gap: 20px;
    justify-content: center;
    flex-wrap: wrap;
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid var(--border-color, #27272a);
    border-radius: 16px;
    padding: 30px;
}

.route-input {
    display: flex;
    flex-direction: column;
    gap: 8px;
    min-width: 140px;
}

.route-input label {
    color: var(--primary);
    font-weight: 600;
    font-size: 14px;
}

.chain-select, .token-select, .amount-input {
    padding: 12px 16px;
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid var(--border-color, #27272a);
    border-radius: 8px;
    color: #ffffff;
    font-size: 16px;
}

.chain-select:focus, .token-select:focus, .amount-input:focus {
    outline: none;
    border-color: var(--primary);
}

.route-arrow {
    font-size: 24px;
    color: var(--primary);
    margin-bottom: 10px;
}

/* Comparison Results */
.comparison-results {
    display: grid;
    gap: 20px;
}

.result-card {
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid var(--border-color, #27272a);
    border-radius: 16px;
    padding: 25px;
    display: grid;
    grid-template-columns: 1fr auto auto;
    align-items: center;
    gap: 20px;
    transition: all 0.3s ease;
}

.result-card.best {
    border-color: var(--primary);
    background: rgba(0, 255, 234, 0.05);
}

.result-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 255, 234, 0.2);
}

.result-header {
    display: flex;
    align-items: center;
    gap: 15px;
}

.bridge-name {
    font-size: 18px;
    font-weight: 600;
    color: #ffffff;
}

.savings-badge {
    background: linear-gradient(45deg, var(--primary), var(--secondary));
    color: black;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 700;
}

.price-diff {
    color: #ef4444;
    font-size: 14px;
    font-weight: 600;
}

.fee-details {
    text-align: center;
}

.total-fee {
    font-size: 24px;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 5px;
}

.fee-breakdown {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.fee-breakdown span {
    font-size: 12px;
    color: #a1a1aa;
}

.estimated-time {
    color: #a1a1aa;
    font-size: 14px;
    text-align: right;
}

/* Chart Container */
.chart-container {
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid var(--border-color, #27272a);
    border-radius: 16px;
    padding: 30px;
    height: 400px;
}

/* Responsive Design */
@media (max-width: 768px) {
    .hero-content-centered h1 {
        font-size: 48px;
    }

    .hero-content-centered h3 {
        font-size: 20px;
    }

    .route-config {
        flex-direction: column;
        align-items: center;
    }

    .route-arrow {
        transform: rotate(90deg);
        margin: 0;
    }

    .result-card {
        grid-template-columns: 1fr;
        text-align: center;
        gap: 15px;
    }

    .status-card {
        flex-direction: column;
        text-align: center;
    }
}

@media (max-width: 480px) {
    .hero-content-centered h1 {
        font-size: 40px;
    }

    .hero-content-centered h3 {
        font-size: 18px;
    }

    .tool-section h2 {
        font-size: 28px;
    }
}
</style>
{% endblock %}

{% block scripts %}
{{ super() }}
<script>
    // Mock chart data
    document.addEventListener('DOMContentLoaded', function() {
        const ctx = document.getElementById('feeChart').getContext('2d');

        new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                datasets: [
                    {
                        label: 'Across',
                        data: [15, 14, 12, 13, 11, 10, 12, 11, 13, 12, 11, 12],
                        borderColor: '#00ffea',
                        backgroundColor: 'rgba(0, 255, 234, 0.1)',
                        tension: 0.4
                    },
                    {
                        label: 'Hop Protocol',
                        data: [18, 17, 16, 15, 14, 15, 16, 15, 16, 15, 14, 15],
                        borderColor: '#8b5cf6',
                        backgroundColor: 'rgba(139, 92, 246, 0.1)',
                        tension: 0.4
                    },
                    {
                        label: 'Stargate',
                        data: [20, 19, 18, 17, 16, 17, 18, 17, 18, 17, 16, 17],
                        borderColor: '#f59e0b',
                        backgroundColor: 'rgba(245, 158, 11, 0.1)',
                        tension: 0.4
                    },
                    {
                        label: 'Wormhole',
                        data: [25, 24, 22, 21, 20, 21, 22, 21, 22, 21, 20, 21],
                        borderColor: '#ef4444',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: '#ffffff'
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: {
                            color: '#a1a1aa'
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    },
                    y: {
                        ticks: {
                            color: '#a1a1aa',
                            callback: function(value) {
                                return '$' + value;
                            }
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    }
                }
            }
        });

        // Mock interactive functionality
        document.querySelectorAll('.bridge-option').forEach(option => {
            option.addEventListener('click', function() {
                this.classList.toggle('active');
                // Mock update results based on selection
                updateMockResults();
            });
        });

        document.querySelectorAll('.chain-select, .token-select, .amount-input').forEach(input => {
            input.addEventListener('change', updateMockResults);
        });

        function updateMockResults() {
            // Simulate loading and updating results
            const results = document.querySelectorAll('.result-card');
            results.forEach(card => {
                card.style.opacity = '0.5';
                setTimeout(() => {
                    card.style.opacity = '1';
                }, 500);
            });
        }
    });
</script>
{% endblock %}